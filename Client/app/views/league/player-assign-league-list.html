<div class="gridview" cg-busy="vm.loadingPromise">
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
            <th>Players</th>
            <th>League Selected</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="2"><div class="league-title">Unselected League</div></td>
        </tr>
        <tr ng-repeat="playerleague in vm.getPlayersForLeague(null)">
          <td>
            {{playerleague.player.Name}}
          </td>
          <td>
            <select class="form-control" ng-model="playerleague.leagueId"
                    ng-options="league.Id as league.Name for league in vm.scope.leagues"
                    ng-required='true'>
                <option value=""></option>
            </select>
          </td>
        </tr>
      </tbody>
      <tbody ng-repeat="league in vm.scope.leagues">
        <tr>
          <td colspan="2">
            <div class="league-title">{{league.Name}}</div>
            <div ng-show="vm.getErrorForLeague(league.Id)" ng-bind="vm.getErrorForLeague(league.Id)" class="alert alert-danger"></div>
          </td>
        </tr>
        <tr ng-repeat="playerleague in vm.getPlayersForLeague(league.Id)">
          <td>
            {{playerleague.player.Name}}
          </td>
          <td>
            <select class="form-control" ng-model="playerleague.leagueId"
                    ng-options="league.Id as league.Name for league in vm.scope.leagues"
                    ng-required='true'>
                <option value=""></option>
            </select>
          </td>
        </tr>
      </tbody>
    </table>
</div>
