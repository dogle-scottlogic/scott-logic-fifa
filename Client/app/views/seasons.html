<div cg-busy="{promise:vm.loadingPromise,templateUrl:'./views/partials/busy-template.html'}">
    <div class="gridview" ng-init="vm.fillSeasons()" collapse="!vm.showListForm">
    <h2> Seasons </h2>
    <button ng-click="vm.showCreateSeason()" type="button" class="btn btn-primary right">Add Season</button>
    <ul class="error">
        <li ng-repeat="value in vm.errors['item.Global']">{{value}}</li>
    </ul>
    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>Country</th>
            <th>Name</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="season in vm.seasons">
            <td>{{season.SeasonCountry.Name}}</td>
            <td>{{season.Name}}</td>
            <td align="right"><button ng-click="vm.showEditSeason(season.Id)" type="button" class="btn btn-primary middle">Edit</button>
                <button ng-click="vm.deleteSeasonInstance(season.Id)" type="button" class="btn btn-danger right">Delete</button>
            </td>
        </tr>
        </tbody>
    </table>
    </div>
    <div collapse="!vm.showCreateForm">
        <h2>Creating a season</h2>
        <ul class="error">
            <li ng-repeat="value in vm.errors['item.Global']">{{value}}</li>
        </ul>
        <hr />
        <form class="simple-form" ng-submit="vm.addSeason()">
            <div ng-include="'./views/partials/season-form.html'"></div>
            <input type="submit" class="btn btn-primary" value="Save" />
            <input type="button" class="btn" value="Cancel" ng-click="vm.showList()" />
        </form>
    </div>
    <div collapse="!vm.showEditForm">
        <h2>Editing a season</h2>
        <ul class="error">
            <li ng-repeat="value in vm.errors['item.Global']">{{value}}</li>
        </ul>
        <hr />
        <form class="simple-form" ng-submit="vm.updateSeason()">
            <div ng-include="'./views/partials/season-form.html'"></div>
            <input type="submit" class="btn btn-primary" value="Save" />
            <input type="button" class="btn" value="Cancel" ng-click="vm.showList()" />
        </form>
    </div>
</div>